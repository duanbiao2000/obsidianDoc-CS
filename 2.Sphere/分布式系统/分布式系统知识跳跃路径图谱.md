### 一、 请求处理链路
- **问题: 请求激增，服务过载**
  - **机制**: 限流、熔断、隔离
  - **原理**: 令牌桶、滑动窗口、Bulkhead模式
  - **演进**: Hystrix → Sentinel → Service Mesh (Istio) 流量策略

- **问题: 缓存失效，数据库雪崩**
  - **机制**: 缓存穿透/击穿/雪崩防护
  - **原理**: 布隆过滤器、分布式锁、缓存预热、TTL随机化
  - **演进**: 单机缓存 → Redis Cluster → 多级缓存 (CDN + Redis + Guava Cache)

- **问题: 服务调用链追踪困难**
  - **机制**: 分布式可观测性
  - **原理**: TraceId/SpanId 上下文传播 (W3C TraceContext)
  - **演进**: Zipkin/Jaeger → OpenTelemetry 标准 → Service Mesh (Linkerd, Istio)

### 二、 服务治理
- **问题: 服务动态注册与发现延迟**
  - **机制**: 注册中心
  - **原理**: 心跳检测、长轮询、推送机制
  - **演进**: ZooKeeper → Eureka → Nacos/Consul

- **问题: 配置变更导致服务重启**
  - **机制**: 分布式配置中心
  - **原理**: 配置热更新、版本管理、灰度发布
  - **演进**: Spring Cloud Config → Apollo/Nacos

### 三、 异步解耦与数据一致性
- **问题: 跨服务事务失败，数据不一致**
  - **机制**: 分布式事务模型
  - **原理**: 2PC/3PC (强一致性) → TCC/Saga (最终一致性)
  - **演进**: 消息事务 (本地事务表 + MQ Outbox)

- **问题: 消息重复消费或顺序错乱**
  - **机制**: 幂等性设计、顺序消费
  - **原理**: 唯一请求ID/幂等键、数据库去重；MQ分区有序+单消费者
  - **演进**: 业务层保证 → 框架层支持

### 四、 存储与分片
- **问题: 单表数据量过大，查询缓慢**
  - **机制**: 水平分库分表
  - **原理**: 哈希分片、范围分片、一致性哈希
  - **演进**: Sharding-JDBC (客户端) → Vitess (代理层) → NewSQL (原生分布式)

- **问题: 热点Key导致单点高负载**
  - **机制**: 热点数据处理
  - **原理**: 客户端缓存、多级缓存、Key加随机后缀打散
  - **演进**: 手动处理 → 代理层自动迁移/复制

### 五、 系统稳定性与云原生
- **问题: 部署变更频繁，系统不稳定**
  - **机制**: 灰度发布
  - **原理**: 蓝绿部署、金丝雀发布、流量切分
  - **演进**: Nginx手动配置 → Kubernetes Deployment → Service Mesh (Istio)

- **问题: 突发流量，扩容不及时**
  - **机制**: Serverless (FaaS)
  - **原理**: 事件驱动、冷启动优化、按需计费
  - **演进**: VM → Docker → Kubernetes → Knative/Lambda

- **问题: 全球用户访问延迟高**
  - **机制**: 多活架构、边缘计算
  - **原理**: 异地多活、数据同步 (CRDT)、Local-First 架构
  - **演进**: CDN → 边缘计算 (Cloudflare Workers) → 全球分布式数据库 (Spanner)