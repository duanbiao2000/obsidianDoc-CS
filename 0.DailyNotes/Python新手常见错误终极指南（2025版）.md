---
aliases: null
date: 2025-09-18 23:37
tags: null
source: null
update: null
rating: null
---
# 🐍 Python 新手常见错误

## 一、代码风格与基础规范

### 字符串格式化 #card
**问题**：在 Python 中，使用 `+` 手动拼接字符串有哪些缺点？
**答案**：
1.  **可读性差**：代码冗长，难以阅读。
2.  **易出错**：容易忘记类型转换（如 `str()`）。
3.  **性能低**：每次拼接都会创建新的字符串对象。

Python 中进行字符串格式化的推荐方式是什么？::使用 **f-string**，例如 `f"Hello, {name}!"`。

### 文件处理 #card
**问题**：为什么应使用 `with` 上下文管理器处理文件，而不是手动 `open()` 和 `close()`？
**答案**：
`with` 语句能确保无论代码块是否发生异常，文件都会被 **自动关闭**，从而有效避免 **资源泄漏**。

### 异常处理
为什么应避免使用裸 `except:` 子句？::因为它会捕获所有异常，包括 `SystemExit` 和 `KeyboardInterrupt`（用户按 Ctrl+C），导致程序无法正常退出。

处理异常时，若要捕获所有非系统退出的程序级异常，应该捕获哪个基类？::`Exception` 类。

### 运算符误用
### `^` 与 `**` #card-reverse
在 Python 中，`^` 运算符代表什么？
位异或 (Bitwise XOR)。

在 Python 中，用于指数运算的运算符是什么？::`**`

### 可变默认参数
在函数定义中使用可变类型（如 `[]` 或 `{}`)作为默认参数有什么风险？::该默认对象在函数定义时只创建一次，所有后续调用都会共享并修改这 **同一个对象**，导致非预期的结果。

如何正确地为函数参数设置可变的默认值（如列表）？::将默认值设为 `None`，然后在函数内部检查并初始化，例如：`if items is None: items = []`。

### 导入规范
为什么应避免使用 `from module import *`？::它会{污染当前命名空间}，可能导致名称冲突，并{隐藏了代码的依赖关系}，使代码难以理解和维护。

## 二、数据结构与迭代

### 字典迭代
当只需要遍历字典的键时，最简洁的写法是什么？::直接迭代字典对象，例如 `for key in my_dict:`。

如何最高效地在循环中同时获取字典的键和值？::使用 `.items()` 方法进行解包，例如 `for key, value in my_dict.items():`。

### 列表迭代
当迭代列表时，如果需要同时获取索引和元素，应该使用哪个内置函数？::`enumerate()`。

为什么不推荐使用 `for i in range(len(items)):` 的方式迭代列表？::因为它引入了不必要的索引操作，代码更冗长，可读性差，且容易出错。

### 类型检查
### `isinstance()` vs `type()` #card
**问题**：为什么应该使用 `isinstance()` 而不是 `type(x) == T` 来检查对象的类型？
**答案**：
因为 `isinstance()` 能正确处理 **继承关系**（一个子类的实例也被认为是其父类的实例），这符合里氏替换原则。而 `type()` 只在类型完全相同时才返回 `True`。

### 单例对象检查
检查一个变量是否为 `None`, `True` 或 `False` 时，为什么推荐使用 `is` 而不是 `==`？::因为 `is` 检查的是{对象身份}（内存地址是否相同），而 `==` 检查的是{值相等}。对于 `None` 等单例对象，`is` 更快、更准确，且无法被对象的 `__eq__` 方法重载。

## 三、性能与工具

### 代码计时
在 Python 中，进行性能计时应使用哪个函数以获得高精度且不受系统时间影响的结果？::`time.perf_counter()`。

### 调试与日志
相比于 `print` 调试，使用 `logging` 模块有哪些主要优势？::支持{日志分级}、可配置输出格式、可将日志输出到不同目标（如文件），且能在生产环境中通过调整级别轻松控制日志的输出。

### 子进程安全
在 `subprocess` 模块中，为什么将 `shell=True` 视为一个严重的安全风险？::因为它可能导致{命令注入}（Command Injection）漏洞，允许恶意输入执行任意系统命令。

使用 `subprocess` 模块时，执行外部命令的安全方式是什么？::将命令和参数作为一个{列表}传递，例如 `subprocess.run(["rm", "-rf", "/"])`。

### 数值计算
进行大规模数学或数据分析时，为什么应优先使用 NumPy/Pandas？::因为它们的底层由 C/C++ 实现，支持{向量化操作}，性能远高于纯 Python 的循环（通常快10-100倍）。

## 四、Python 版本与核心概念

### Python 编译过程
Python 是一种纯解释型语言吗？::不完全是。Python 源代码首先被编译成 {字节码} (`.pyc` 文件)，然后由 {Python 虚拟机} (如 CPython 解释器) 执行。

### `range` 对象
在 Python 3 中，`range()` 函数返回的是什么？::一个{惰性}的 `range` 对象，它只存储起始、停止和步长值，不生成完整的数字列表，因此内存占用极小。

### 字典视图
在 Python 3 中，`dict.keys()`、`dict.values()` 和 `dict.items()` 返回的是什么？::返回{视图（view）}对象，它们是字典内容的动态窗口，当字典发生变化时，视图会立即反映这些变化。