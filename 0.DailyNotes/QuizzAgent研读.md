---
aliases:
date: 2025-09-01 10:35
tags:
source:
  - https://zread.ai/floatDreamWithSong/QuizAgent
---
好的，遵照您的要求，我已经将笔记 [[QuizzAgent研读]] 中用于折叠内容的 HTML `<details>` 语法替换为 Obsidian 支持的 Markdown callout 语法。

这是修改后的笔记全文：

---

# QuizzAgent 系统研读与拆解

> **[核心思想]** 本笔记采用“分治”原则重构，将 QuizzAgent 系统拆解为两大核心模块：**知识提炼**与**试题生成**。通过梳理每个模块的**设计思路（Prompt）**、**代码实现**和**应用范例**，清晰地展示了其工作流与能力。

### 快速导航目录
1.  [[#一、系统核心工作流 | 系统核心工作流]]
2.  [[#二、模块一：知识提炼 (Knowledge Planner) | 模块一：知识提炼 (Knowledge Planner)]]
    *   [[#设计思路：智能文档解析师 Prompt | 设计思路：Prompt 定义]]
    *   [[#应用范例：知识点解析输出 | 应用范例：输出]]
3.  [[#三、模块二：试题生成 (Question Builder) | 模块二：试题生成 (Question Builder)]]
    *   [[#设计思路：试题设计专家 Prompt | 设计思路：Prompt 定义]]
    *   [[#代码实现：动态 Prompt 生成 | 代码实现：动态生成]]
    *   [[#应用范例：试题生成输出 | 应用范例：输出]]

---

### 一、系统核心工作流 |
QuizzAgent 的工作流程分为两个核心阶段：
1.  **知识提炼**：首先，**知识提炼模块**负责接收原始文档，并将其解析为结构化的、层级分明的知识点列表。
2.  **试题生成**：然后，**试题生成模块**以上一阶段输出的知识点为依据，根据用户指定的题目要求（如题型、难度），生成高质量的试题。

---

### 二、模块一：知识提炼 (Knowledge Planner) |
*此模块负责从原始文档中提取结构化的知识点，是整个系统的基础。*

#### 设计思路：智能文档解析师 Prompt
该模块的核心是一个精心设计的 Prompt，它将 AI 定义为“智能文档解析师与自动化知识提炼架构师”。

> [!info]- 点击展开/折叠 Prompt 详细内容
> ```js
> export const KnowledgePlannerSystemPrompt = `
> 
> Role: 智能文档解析师与自动化知识提炼架构师  
> 
> Background: 在信息爆炸的时代，用户需要高效处理各类文档（论文、书籍、报告、手册等），通过系统性分析提取知识架构，明确知识模块、子模块及具体知识点的层级关系与来源位置，从而实现对文档内容的深度理解、快速检索与高效复用。  
> 
> Profile: 你是一位精通文本结构化解析的资深专家，拥有丰富的跨领域知识梳理经验。擅长从复杂文档中剥离核心信息，以逻辑化方式构建知识层级体系，能精准定位每个知识点的原文出处，输出内容兼具专业性与可读性。  
> 
> Skills:
> - 深度文本理解：精准把握文档主旨、逻辑脉络及核心信息  
> - 多维度信息提取：从段落、句子、词汇等层面提取关键知识点  
> - 层级化架构搭建：依据知识关联性构建清晰的模块-子模块-知识点层级体系  
> - 精确来源定位：记录知识点所在的章节、标题及上下文关键句  
> - 跨文档类型适配：兼容论文、书籍、报告、手册等多种文档形式  
> - 格式规范化输出：严格遵循 Markdown 格式要求组织内容  
>   
> Goals: 全面提取文档中的知识单元，构建层级分明的知识架构，精准标注每个知识点的来源位置，最终以规范的 Markdown 格式输出完整分析结果，帮助用户快速掌握文档知识体系。  
>   
> Constrains:
> - 仅依据文档原文提取知识点，禁止主观解读或引入外部信息  
> - 来源位置须具体到“章节/标题 + 上下文关键句”，禁止出现页码等无关信息  
> - 知识层级最多使用 1-4 级标题，确保逻辑连贯、无重复归类  
> - 对冲突或模糊信息须客观描述并标注来源  
> - 输出须覆盖文档核心知识，禁止遗漏关键信息  
>   
> OutputFormat:
> # 知识模块
>   1. 知识点 1
>      - 内容: 一句话概括核心要点  
>      - 来源: 第一章 引言：计算机科学是一门研究计算系统设计与应用的学科  
> ...
>   
> Workflow:
> 1. 文档预处理：通读全文，掌握主题及章节/标题分布  
> 2. 知识单元识别：逐段抽取具有独立意义的知识点  
> 3. 层级关系构建：按关联性划分 1-4 级知识模块，并将知识点归类  
> 4. 来源信息记录：为每个知识点记录“章节/标题 + 上下文关键句”  
> 5. 内容校验：检查完整性、逻辑性与来源准确性  
> 6. 格式规范化：按上述 OutputFormat 输出Markdown
> ...
>   
> Initialization: 您好，我是文档解析专家。我将为您提取文档中的知识模块、子模块、知识点及其来源位置，并以 Markdown 格式输出。
> `;
> ```

#### 应用范例：知识点解析输出
以下是该模块处理一份关于“抽象与算法”的文档后，生成的结构化知识点列表。
> *注：为简洁起见，此处仅展示部分内容。*
# 抽象与形式化
1. 问题抽象
   - 内容: 将现实世界的复杂问题剥离非核心元素，提炼成可用数学或逻辑语言描述的简洁模型。
   - 来源: 抽象与形式化 - 01. 问题抽象：现实约束转化为形式规则
2. 对象建模
   - 内容: 使用实体-关系图（ER）来表示系统中的实体及其相互关系，是数据库设计的基础。
   - 来源: 抽象与形式化 - 02. 对象建模：实体-关系图 (ER)
...

# 算法与优化
1. 搜索算法
   - 内容: 如广度优先（BFS）、深度优先（DFS）和A*，用于在图或状态空间中寻找目标或最优路径。
   - 来源: 算法与优化 - 26. 搜索算法 (BFS, DFS, A*)
...

---

### 三、模块二：试题生成 (Question Builder) |
*此模块接收上一阶段生成的知识点，并根据具体要求，动态生成试题。*

#### 设计思路：试题设计专家 Prompt
该模块将 AI 定义为“资深的试题设计专家”，并提供了详细的输入（可用知识点）和输出（符合规范的试题）要求。

> [!info]- 点击展开/折叠 Prompt 详细内容
> **系统提示词 (System Prompt):**
> ```markdown
> 你是一个资深的试题设计专家，你将根据提供的知识点和参考材料，严格按照要求设计出符合规格的试题。
> 
> ## 可用知识点
> 1. 知识点ID：[kid]
>    知识点名称：[name]
>    ...
> 
> ## 出题要求
> 2. 严格按照知识点的难度等级设计题目难度
> ...
> ```
> 
> **用户提示词 (User Prompt):**
> ```markdown
> 请根据以下要求生成试题：
> 
> ## 知识点详情
> 3. 知识点：[name]
>    ...
> 
> ## 题目要求
> 4. 题目序号：[order]
>    ...
> 
> ## 出题规范
> 5. 每道题目必须严格按照指定的题目形式生成
> ...
> ```

#### 代码实现：动态 Prompt 生成
笔记中的 JavaScript 代码展示了如何根据具体的知识点和题目要求，动态地构建上述 Prompt。

> [!info]- 点击展开/折叠 JS 代码
> ```js
> // v1版本的question-builder prompt，适配新的数据结构
> export const questionBuilderSystemPrompt = (data: {
>   knowledges: {
>     kid: string,
>     name: string,
>     ...
>   }[]
> }) => {
>   return `你是一个资深的试题设计专家...`
> }
> 
> export const questionBuilderUserPrompt = (data: {
>   knowledges: { ... }[],
>   questions: { ... }[]
> }) => {
>   return `请根据以下要求生成试题：...`
> }
> ```

#### 应用范例：试题生成输出
以下是该模块基于 [[#应用范例：知识点解析输出 | 知识点解析输出]] 的内容，生成的试题范例。
> *注：为简洁起见，此处仅展示部分内容。*

**第 1 题 (单选题 / easy)**
- **题目：** 根据参考材料，以下哪个选项最准确地描述了“问题抽象”的核心目标？
- **答案：** A. 将现实世界的复杂约束和细节转化为简洁、形式化的规则或模型。
- **解析：** ...

**第 2 题 (简答题 / medium)**
- **题目：** 请简要说明什么是“图着色”问题，并根据参考材料举出一个应用该方法解决现实资源分配问题的具体实例。
- **答案：** ...

**第 3 题 (论述题 / hard)**
- **题目：** 请结合“图模型”、“图神经网络 (GNN)”和“异常检测”这三个知识点，论述如何构建一个金融风险建模方案...
- **答案：** ...

---

### 改进说明
1.  **拆解 (Divide)**：根据**功能属性**，将原始笔记拆分为**系统工作流**、**知识提炼模块**和**试题生成模块**三个部分，解决了原笔记内容混杂、结构不清的问题。
2.  **优化 (Conquer)**：
    *   为每个模块添加了**引导性说明**，阐明其在系统中的角色和功能。
    *   使用 **Markdown callout 语法**将冗长的 Prompt 和代码块**折叠**起来，使笔记主干更清晰，重点突出。
    *   对范例内容进行了**精简**，只保留核心部分以说明功能，避免信息过载。
3.  **整合 (Merge)**：
    *   在笔记开头创建了“**快速导航目录**”和“**系统核心工作流**”部分，从宏观上建立了各模块之间的逻辑联系。
    *   通过文字说明和内部链接，清晰地指出了模块一的**输出**是模块二的**输入**，形成了一个完整的逻辑闭环。