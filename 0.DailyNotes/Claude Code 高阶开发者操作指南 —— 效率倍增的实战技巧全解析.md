好的，遵照您的指示，这是根据提供的《Claude Code 高阶开发者操作指南》笔记内容生成的 Anki 闪卡。

# Claude Code 高阶开发者操作指南

## 核心理念与工作流

### Claude Code的核心理念 #card
Claude Code不是一个简单的代码打字机，而是一个“智能开发副驾驶”。开发者应专注于核心逻辑与架构设计，将重复性工作、环境配置、代码审查、测试等任务交给AI处理。

### 对话式开发的心态是什么?::将需求清晰地“告诉”AI，引导AI提问和完善细节，而非简单地“命令”AI生成代码。

### AI辅助开发成功的关键是什么?::不要试图一次性完成所有工作。将大任务分解为小步骤，每完成一步就验证一次。

---

## 六大核心操作指南

### 1. 智能需求定义与任务拆解
### 需求定义的高效方法 #card
**问题：** 如何通过Claude Code进行高效的需求定义？
**答案：** 采用“AI提问你”的方式。在Prompt中明确要求AI“请向我提问”，引导其主动挖掘需求细节，从而生成一份比自己构思更完善的MVP需求文档。

`claude.md`文件在项目中的作用是什么?::它是AI后续所有操作的“宪法”或“唯一事实来源”，包含了项目的详细需求和技术栈规范，确保AI生成内容的一致性。

### 2. 无缝 Git 集成与自动化
为了让Claude Code能够自动执行Git和GitHub操作（如创建仓库、提交、创建PR），需要预先安装并授权哪个命令行工具?::GitHub CLI (`gh`)。

### 3. 自定义钩子 (Hooks)
### Claude Code中的钩子(Hooks) #card-reverse
它是一种自动化机制，允许在AI执行特定操作（如写文件、运行命令）的**之前(PreTool)**或**之后(PostTool)**，自动触发预设的命令。

在Claude Code中，如何实现每次AI修改完代码后自动进行格式化和类型检查?::通过配置`PostTool`钩子，执行`npx prettier --write {file_path}`和`npx tsc --noEmit`等命令。`{file_path}`是获取刚被修改文件路径的变量。
如何设置一个任务完成的音频提醒?::在`Stop`事件钩子中配置一个能发出声音的系统命令，例如在Mac上是`say "任务完成"`，在Windows上是`powershell -c "echo '\\a'"`。

### 4. MCP 服务器集成
### MCP (Model Context Protocol) #card-reverse
它是一种协议，允许Claude Code连接并操作外部服务，如数据库（Supabase）、浏览器自动化工具（Playwright）或设计工具（Figma），从而扩展AI的能力边界。

使用MCP服务连接需要API Key等敏感信息的外部工具时，最佳实践是什么?::务必通过环境变量（`.env`文件）传入敏感信息，**切勿硬编码**在配置文件或Prompt中。

### 5. 子代理 (Sub-Agents)
### 子代理(Sub-Agents)模式 #card
**问题：** Claude Code中的子代理模式是什么？
**答案：** 它允许为不同技术领域（如前端、后端、安全、测试）创建专属的、拥有独立上下文的AI代理。这可以保持对话上下文的纯净，让AI在特定领域表现得更专业。

如何让一个子代理表现得像一个领域专家?::在其“描述”字段中编写清晰、具体、专业的角色定义，例如：“你是一位资深的Next.js前端专家，精通React Server Components和性能优化。”

### 6. 自定义命令 (Custom Commands)
如何创建自己的Claude Code快捷命令（如 `/performance`）?::在项目根目录下的`.clauded/commands/`文件夹中创建一个Markdown文件，定义命令的名称、参数和执行指令。

---

## Figma与Claude Code集成（消除AI感UI）

消除“AI感”UI的核心方法是什么?::使用专业的Figma设计稿作为唯一权威的设计源，通过MCP服务连接Claude Code，让AI精准地将设计稿还原为代码，而不是让AI自由发挥进行设计。

Figma MCP服务器的作用是什么?::它允许Claude Code直接读取Figma设计文件中的详细信息（如布局、颜色、字体、间距），从而实现像素级的代码还原。

从Figma生成代码后，图片链接为什么会失效？如何解决?::因为初始链接指向的是临时的Figma MCP服务器。解决方案是：在Figma中手动导出图片资源，并更新HTML代码中的路径为本地路径。

在UI还原中，为什么优先使用Tailwind CSS而不是原生CSS?::因为Tailwind的utility-first体系能更精确、更方便地控制Figma设计稿中的各种原子化样式（如间距、颜色、字体大小），还原度更高。

消除“AI感”的关键设计技巧有哪些?::1. **非对称布局**打破网格僵化感；2. **多层次阴影**模拟真实光照；3. **非标准排版**（如17px基础字体，1.65行高）；4. **添加微交互和动画**增加自然感。